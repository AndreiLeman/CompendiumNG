<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>
<installation version="1.0">
		<info>
				<appname>@{project.name}</appname>
				<appversion>@{project.version}</appversion>

				<authors>
						<author name="Michal Stekrt (lead developer)"  email="michal@compendiumng.org" />
						<author name="Sebastian Boell" email="sebastian@compendiumng.org" />
				</authors>

				<url>http://www.compendiumng.org</url>
				<javaversion>1.6</javaversion>
				<requiresjdk>no</requiresjdk>
				<run-privileged condition="izpack.windowsinstall.vista|izpack.macinstall" />
		</info>


		<variables>
				<variable name="InstallerFrame.logfilePath" value="$INSTALL_PATH/installer.log" />
				<variable name="desktopshortcutcheckboxenabled" value="true" />
		</variables>

		<guiprefs width="640" height="480" resizable="yes">

				<laf name="kunststoff">
						<os family="unix" />
				</laf>
				<laf name="looks">
						<os family="windows" />
						<param name="variant" value="extwin" />
				</laf>
		</guiprefs>

		<locale>
				<langpack iso3="eng" />
		</locale>

		<panels>
				<panel classname="HTMLInfoPanel" id="readme" />
				<panel classname="LicencePanel" />
				<panel classname="TargetPanel" />
				<panel classname="PacksPanel" />
				<panel classname="ShortcutPanel" />
				<panel classname="InstallPanel" />
				<panel classname="SimpleFinishPanel" />
		</panels>

		<resources>
				<res id="Installer.image" src="${project.build.outputDirectory}/banner-vertical.png"/>
				<res id="installer_banner" src="${project.build.outputDirectory}/installer_banner.png"/>
				<res id="HTMLInfoPanel.readme" src="${project.build.outputDirectory}/installer_readme.html" />
				<res id="InfoPanel.info" src="${project.build.outputDirectory}/installer_readme.txt" />
				<res id="LicencePanel.licence" src="${project.build.outputDirectory}/installer_license.txt" />
				<res id="Win_shortcutSpec.xml" src="${project.build.outputDirectory}/Win_shortcutSpec.xml" />
				<res id="Unix_shortcutSpec.xml" src="${project.build.outputDirectory}/Unix_shortcutSpec.xml" />
		</resources>
		

		<packs>
				<pack name="Core" required="yes" hidden="false">
						<description>Core is a required component for the CompendiumNG installation. It contains all the main program files necessary for running CompendiumNG.</description>
						<file src="${project.build.directory}/${project.artifactId}-jar-with-dependencies.jar" targetdir="$INSTALL_PATH"
								unpack="true" />
						
				</pack>

				<pack name="Configuration Files" required="yes" hidden="false">
						<description>Configuration Files is a required component for the CompendiumNG installation. It contains all configuration files necessary for running CompendiumNG.</description>
						<singlefile src="${project.build.outputDirectory}/main.properties" target="$USER_HOME/.compendiumng/main.properties" />
						<singlefile src="${project.build.outputDirectory}/log4j.properties" target="$INSTALL_PATH/log4j.properties" />
						<parsable targetfile="$USER_HOME/.compendiumng/main.properties" type="javaprop"/> 
						<parsable targetfile="$INSTALL_PATH/log4j.properties" type="javaprop"/> 
				</pack>

				<pack name="OS Shortcuts" required="no" hidden="false"	preselected="yes">
						<description>CompendiumNG starting files and shortcuts</description>

						<singlefile src="${project.build.outputDirectory}/Compendium.sh" target="$INSTALL_PATH/run.sh">
							<os family="unix"/>
						</singlefile>

						<singlefile src="${project.build.outputDirectory}/Compendium.bat" target="$INSTALL_PATH/run.bat">
							<os family="windows"/>
						</singlefile>

						<parsable targetfile="$INSTALL_PATH/run.sh" type="shell">
							<os family="unix"/>
						</parsable>

						<parsable targetfile="$INSTALL_PATH/run.bat">
							<os family="windows"/>
						</parsable>

						<executable targetfile="$INSTALL_PATH/run.sh" stage="never">
							<os family="unix"/>
						</executable>
				
				</pack>
		</packs>

          <native type="izpack" name="ShellLink.dll"/>

</installation>
